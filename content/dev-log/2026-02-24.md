---
title: "Tuesday February 24, 2026"
category: "Software Development"
created_at: "2026-02-24T14:27:25.482Z"
updated_at: "2026-02-24T14:27:25.482Z"
date: "2026-02-24"
tags:
  - ""
status: "draft"
summary: ""
author: "JT Houk"
location: "Montreal"
images: []
---

## Projects

### Sales History Improvements

Merged LRX-32638/sort-sales-by-invoice-number into main and deployed to production.
Ran the task to update the index mapping for invoice_number and came across an issue regarding the normalizer.
Since the keyword_sort_normalizer did not already exist in the index's settings, it was not added when I updated the mapping and caused the task to fail.
Removed the normalizer from the mapping and ran the task again, which worked successfully.
I'm going to review Dania's work on LRX-32357 Add new sales filters today.

## Incidents

### #260224-3285 â€” Sales Not Appearing in Sales History (SEV-1)

The incident involved new sales not displaying in the sales history for some accounts, while others saw delayed or normal behavior. Investigation found that while sales were being recorded, there was significant consumer lag in the the sale document producer, particularly on certain Kafka partitions. This lag was correlated with increased load, possibly due to a slow MySQL query running a full table scan behind a feature flag for staff accounts. The team mitigated the issue by increasing the number of consumer instances and disabling the problematic feature flag, which led to a reduction in lag and sales appearing as expected. No critical alerts were triggered for this lag, which has been noted as an area for improvement. The incident was closed as resolved, though some minor front-end discrepancies and a need for further investigation into the root cause and monitoring remain.

### Key Points

- New sales were not appearing in sales history for some accounts, with others experiencing delays
- Issue isolated to lag in the the sale document producer's consumer group, especially on certain Kafka partitions
- Slow MySQL query (full table scan) behind a staff-only feature flag identified as a contributing factor
- Mitigation steps: increased consumer instance count and disabled the slow-query feature flag
- Consumer lag reduced, sales began appearing as expected
- No critical alerts were triggered for this lag
- Incident closed as resolved, with follow-up actions identified

### Next Steps

- Schedule a PIR (Post-Incident Review) to investigate root cause and document findings
- Review and improve alerting for consumer lag and slow queries
- Evaluate and optimize the problematic MySQL query, potentially with improved indexing
- Continue monitoring sales history and consumer performance for stability

## Journal

After the makeathon awards ceremony, I was impressed with many of the projects and talent shown by the engineers and teams at the company,
and while I respect their technical accomplishments,
it brought up some concerns I have about the ethical considerations of some of the projects and the potential for misuse of the technology.
I think it's important for us as engineers to consider the ethical implications of our work and to ensure that while we are pushing the boundaries of what's possible,
we are also being responsible and mindful of the potential consequences of our work.
In particular, I think we need to consider a code of ethics around the use of AI in surveilance and data collection.
While AI has the potential to be a powerful tool for improving our lives and solving complex problems,
it also has the potential to be used in ways that violate people's privacy and civil liberties.
What kinds of safeguards can we put in place to ensure that AI is used responsibly and ethically in these contexts?
What kind of oversight and accountability mechanisms can we implement to prevent misuse of AI in surveilance and data collection?
We must acknowledge the realities of the world and governments our software operates in and the impact it can have on society.
Just as we have a responsibility to ensure we are not leaking sensitive company data to the AI models we use,
we should also have the same responsibility to ensure we are not submitting personal data of unconsenting individuals to the AI models we use,
especially when we have no control over what information is collected from surveillance footage or how that data is used or stored by the AI providers.
I think it's important for us to have these conversations and to work together to develop ethical guidelines and best practices for the use of AI in surveilance and data collection,
to ensure that we are using this technology in a way that benefits society as a whole and respects people's rights and freedoms.
